(()=>{var e={875:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=l.apply(null,r);a&&e.push(a)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(r=function(){return l}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"u2":"brtled/term-featured-image"}'),n=window.wp.element,l=window.wp.blockEditor,o=window.wp.components,a=window.wp.coreData,i=window.wp.data,s=window.wp.i18n;var u=r(875),c=r.n(u);const d=(0,window.wp.compose.compose)([(0,l.withColors)({overlayColor:"background-color"})])((e=>{let{attributes:t,overlayColor:r}=e;const{dimRatio:l}=t,o={backgroundColor:r.color};return(0,n.createElement)(n.Fragment,null,!!l&&(0,n.createElement)("span",{"aria-hidden":"true",className:c()("wp-block-post-featured-image__overlay",(a=l,void 0===a?null:"has-background-dim-"+10*Math.round(a/10)),{[r.class]:r.class,"has-background-dim":void 0!==l}),style:o}));var a}));(0,e.registerBlockType)(t.u2,{edit:function(e){let{clientId:t,attributes:r,setAttributes:u,context:{taxonomy:m,termId:p,name:g}}=e;const _=(0,l.useBlockProps)(),{isLink:w,rel:b,linkTarget:f,sizeSlug:v}=r,[h]=(0,a.useEntityProp)("taxonomy",m,"meta",p),k=h?._featured_image_id||0,y=(0,i.useSelect)((e=>e(a.store).getMedia(k))),E=(0,i.useSelect)((e=>e(l.store).getSettings().imageSizes),[]),S=function(e,t){return e?.media_details?.sizes?.[t]?.source_url||e?.source_url}(y,v),x=E.filter((e=>{let{slug:t}=e;return y?.media_details?.sizes?.[t]?.source_url})).map((e=>{let{name:t,slug:r}=e;return{value:r,label:t}}));let C=y?(0,n.createElement)("img",{src:S,alt:y.alt_text?sprintf((0,s.__)("Featured image: %s"),y.alt_text):(0,s.__)("Featured image")}):(0,n.createElement)(o.Placeholder,{className:c()("block-editor-media-placeholder"),withIllustration:!0,hidden:!1},undefined);let z=y?"figure":"div";return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(l.InspectorControls,null,(0,n.createElement)(o.SelectControl,{label:(0,s.__)("Image size"),value:v,options:x,onChange:e=>u({sizeSlug:e}),help:(0,s.__)("Select the size of the source image.")}),(0,n.createElement)(o.PanelBody,{title:(0,s.__)("Link settings")},(0,n.createElement)(o.ToggleControl,{label:(0,s.__)("设置图片链接","brtled"),onChange:()=>u({isLink:!w}),checked:w}),w&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(o.ToggleControl,{label:(0,s.__)("Open in new tab"),onChange:e=>u({linkTarget:e?"_blank":"_self"}),checked:"_blank"===f}),(0,n.createElement)(o.TextControl,{label:(0,s.__)("Link rel"),value:b,onChange:e=>u({rel:e})})))),(0,n.createElement)(z,_,C,(0,n.createElement)(d,{attributes:r,setAttributes:u,clientId:t})))},save:()=>null})})()})();