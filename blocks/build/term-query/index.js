(()=>{"use strict";var e,t={692:()=>{const e=window.wp.element,t=window.wp.blockEditor,r=window.wp.blocks,n=window.wp.i18n,l=JSON.parse('{"u2":"brtled/term-query"}'),o=window.wp.components,a=window.wp.coreData,d=window.wp.data,c=[["brtled/term-title"]];function i(){const r=(0,t.useInnerBlocksProps)({className:"wp-block-brtled-term"},{template:c});return(0,e.createElement)("div",r)}const s=(0,e.memo)((function(r){let{blocks:n,blockContextId:l,isHidden:o,setActiveBlockContextId:a}=r;const d={...(0,t.__experimentalUseBlockPreview)({blocks:n,props:{className:"wp-block-brtled-term"}}),onClick:()=>a(l),style:{display:o?"none":void 0}};return(0,e.createElement)("div",d)}));(0,r.registerBlockType)(l.u2,{edit:function(r){let{attributes:{query:l},setAttributes:c,clientId:m}=r;const b=(0,t.useBlockProps)(),[u,p]=(0,e.useState)(),_=(e,t)=>{c({query:{...l,[e]:t}})},h=(0,d.useSelect)((e=>{const t=e(a.store).getTaxonomies({per_page:-1,context:"view"});return t?t.map((e=>{let{slug:t,name:r}=e;return{id:t,name:r}})).filter((e=>{let{id:t}=e;return"nav_menu"!=t})):[]})),{terms:k,blocks:g}=(0,d.useSelect)((e=>{const{parent:r,offset:n,number:o,order:d,hide_empty:c}=l,i={offset:n,order:d,hide_empty:c};return i.per_page=0==o?-1:o,null!=r&&(i.parent=r),"none"!=l.orderby&&(i.orderby=l.orderby),{terms:e(a.store).getEntityRecords("taxonomy",l.taxonomy,i),blocks:e(t.store).getBlocks(m)}})),y=(0,e.useMemo)((()=>k?.map((e=>({taxonomy:e.taxonomy,termId:e.id,name:e.name})))),[k]);return null==k?(0,e.createElement)(o.Spinner,null):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,{key:"setting"},(0,e.createElement)(o.PanelBody,{title:(0,n.__)("设置","brtled")},(0,e.createElement)(o.ToggleControl,{checked:l.inherit,onChange:e=>_("inherit",e),label:(0,n.__)("继承当前模板的子项","brtled")}),l.inherit&&(0,e.createElement)(o.ToggleControl,{checked:l.expand,onChange:e=>_("expand",e),label:(0,n.__)("获取顶级父项的所有子项","brtled")}),!l.inherit&&(0,e.createElement)(o.TreeSelect,{label:(0,n.__)("分类法","brtled"),selectedId:l.taxonomy,onChange:e=>_("taxonomy",e),tree:h||[]}),!l.inherit&&(0,e.createElement)(o.TextControl,{type:"number",value:l.parent||"",onChange:e=>_("parent",e),label:(0,n.__)("父级ID","brtled")}),(0,e.createElement)(o.ToggleControl,{checked:l.hide_empty,onChange:e=>_("hide_empty",e),label:(0,n.__)("排除未分配的术语","brtled")}),(0,e.createElement)(o.TreeSelect,{label:(0,n.__)("排序依据","brtled"),checked:l.orderby,onChange:e=>_("orderby",e),tree:[{id:"none",name:(0,n.__)("默认","brtled")},{id:"count",name:(0,n.__)("关联的项目数","brtled")}]}),(0,e.createElement)(o.TreeSelect,{label:(0,n.__)("排序","brtled"),checked:l.order,onChange:e=>_("order",e),tree:[{id:"asc",name:(0,n.__)("升序","brtled")},{id:"desc",name:(0,n.__)("降序","brtled")}]}),(0,e.createElement)(o.TextControl,{type:"number",min:"0",value:l.number,onChange:e=>_("number",e),label:(0,n.__)("项目数","brtled"),help:"使用 0 值显示所有"}),(0,e.createElement)(o.TextControl,{type:"number",max:"100",min:"0",value:l.offset,onChange:e=>_("offset",e),label:(0,n.__)("偏移","brtled")}))),(0,e.createElement)("div",b,!k?.length&&(0,n.__)("No results found."),y&&y.map((r=>(0,e.createElement)(t.BlockContextProvider,{key:r.termId,value:r},r.termId===(u||y[0]?.termId)?(0,e.createElement)(i,null):null,(0,e.createElement)(s,{blocks:g,blockContextId:r.termId,setActiveBlockContextId:p,isHidden:r.termId===(u||y[0]?.termId)}))))))},save:()=>(0,e.createElement)(t.InnerBlocks.Content,null)}),(0,r.registerBlockStyle)(l.u2,{label:(0,n.__)("网格风格","brtled"),name:"term-grid"})}},r={};function n(e){var l=r[e];if(void 0!==l)return l.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,l,o)=>{if(!r){var a=1/0;for(s=0;s<e.length;s++){for(var[r,l,o]=e[s],d=!0,c=0;c<r.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(d=!1,o<a&&(a=o));if(d){e.splice(s--,1);var i=l();void 0!==i&&(t=i)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,l,o]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={507:0,119:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var l,o,[a,d,c]=r,i=0;if(a.some((t=>0!==e[t]))){for(l in d)n.o(d,l)&&(n.m[l]=d[l]);if(c)var s=c(n)}for(t&&t(r);i<a.length;i++)o=a[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(s)},r=globalThis.webpackChunktodo_list=globalThis.webpackChunktodo_list||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l=n.O(void 0,[119],(()=>n(692)));l=n.O(l)})();